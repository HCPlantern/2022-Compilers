# 编译原理 实验1报告

组长姓名：林浩然，学号：201250184，邮箱：201250184@smail.nju.edu.cn

组员姓名：邓尤亮，学号：201250035，邮箱：201250035@smail.nju.edu.cn

## 功能实现部分

### 基本内容

完成了实验3要求的所有内容。

### 特色内容

以下优化只是所做优化的一小部分。

* 对由常量组成的表达式，我们做到了常量折叠，测试代码如下：

    ```c
    int main() {
        int a;
        a = 1 + 2 * 3;
    }
    ```

* 实现了求偏移量的常量折叠，测试代码如下：

    ```c
    int main() {
        int a[4][5];
        int b;
        a[3][2] = 1;
    }
    ```

    可以发现中间代码对于高维数组只需要求一次偏移量。

    

* 临时变量生成数量大大减少，像下面这种情况被优化（优化的不止这些情况，以下只是举例子）：

    ```c
    // original
    it0 := #1 + #2
    iv0 := it0
        
    // optimized
    iv0 := #1 + #2
    
    // original
    DEC V3 40
    t2 := &v3
    ARG t2
        
    // optimized
    DEC V3 40
    ARG &v3
    ```

    

## 编译方式

在Code/目录下运行命令make，按照 Makefile 编译。

**注意：产物名字为parser而不是cc！测试命令为 ./parser test1 test1.ir**